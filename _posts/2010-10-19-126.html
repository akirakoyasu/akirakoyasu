---
layout: post
title: XPath処理エンジンjaxenを使う
date: 2010-10-19 17:56:38.000000000 +09:00
permalink: /:categories/:year/:month/:day/:title/
type: post
published: true
status: publish
categories: []
tags:
- Program
- Java
- Jaxen
- XML
- XPath
meta:
  _edit_last: '1'
  _yoast_wpseo_focuskw: ''
  _yoast_wpseo_title: ''
  _yoast_wpseo_metadesc: ''
  _yoast_wpseo_meta-robots-noindex: '0'
  _yoast_wpseo_meta-robots-nofollow: '0'
  _yoast_wpseo_meta-robots-adv: none
  _yoast_wpseo_canonical: ''
  _yoast_wpseo_redirect: ''
  _aioseop_description: デフォルトのXPathは遅くて使い物にならない、と思ったらjaxenを試してみましょう。
  _jetpack_related_posts_cache: a:1:{s:32:"1b5750fe692143898c8244009847a17d";a:2:{s:7:"expires";i:1501265032;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:759;}i:1;a:1:{s:2:"id";i:378;}i:2;a:1:{s:2:"id";i:6;}}}}
author:
  login: akirakoyasu
  email: mail@akirakoyasu.net
  display_name: Akira Koyasu
  first_name: ''
  last_name: ''
---
<p>デフォルトのXPathは遅くて使い物にならない、と思ったらjaxenを試してみましょう。</p>
<p><a href="http://jaxen.codehaus.org/" rel="nofollow" target="_blank">jaxen: universal Java XPath engine</a></p>
<p>使い方はごく簡単です。</p>
<pre>XPath xpath = new DOMXPath("/foo/bar");
List&lt;?&gt; nodes = xpath.selectNodes(document);</pre>
<p>しかもこのjaxen、universalと謳っているだけあって扱えるのはデフォルトのDOMだけではありません。dom4j, JDOM, XOMを扱えます。使い方はみんな同じで、newするクラスが違うだけです。</p>
<p>ちなみにdom4jとXOMはXPathの処理でjaxenを呼んでいるようです（dom4jの実装は見てないですが）。</p>
<p>XOMでは</p>
<pre>nu.xom.Node node;
Nodes nodes = node.query("/foo/bar");</pre>
<p>このとき、jaxenのベースクラスを継承したクラスを使ってXPathの評価を行っています。</p>
<p>ちなみにMavenを使っている場合は、pom.xmlに</p>
<pre>&lt;dependency&gt;
    &lt;groupId&gt;jaxen&lt;/groupId&gt;
    &lt;artifactId&gt;jaxen&lt;/artifactId&gt;
    &lt;version&gt;1.1.1&lt;/version&gt;
&lt;/dependency&gt;</pre>
<p>を追加すれば使用可能になります。</p>
